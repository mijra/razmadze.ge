@import url('https://fonts.googleapis.com/css?family=Source+Sans+Pro')

html
  font-size: 10px
  padding: 10vh 10vw
  margin: 0
  background: white
  font-family: 'Source Sans Pro', sans-serif
  box-sizing: border-box

html, body
  position: relative
  height: 100%

body
  margin: 0
  font-size: 1.4rem
  position: relative

main 
  position: relative
  height: 100%
  paddion: 2px
  background: white
  transition: .8s ease border-color

  &::before
    content: ''
    width: 32px
    height: 32px
    position: absolute
    left: 50%
    top: 50%
    transform: scale(0) translate3d(-50%, -50%, 1px)
    background: black
    animation: init 2.5s ease both
    transform-origin: 0 0
    z-index: 0

  > .columns 
    display: flex
    flex-direction: row
    align-items: stretch
    position: absolute
    width: 100%
    height: 100%
    left: 0
    top: 0
    z-index: 10
  
    > span
      position: relative
      height: 100%
      width: 25%
      overflow: hidden

      &::before
        content: ''
        position: absolute
        background: black
        width: 100%
        height: 100%
        transform: translate3d(101%, 0, 1px)
        transition: .5s ease transform

  &.loading
    > .columns > span::before
      animation: columns 1.6s ease both

  &.ready
    .arrows
      opacity: 1
      transform: translate3d(0, 0, 1px)

@keyframes init
  0%
    transform: scale(0) translate3d(-50%, -50%, 1px)
  30%
    transform: scale(1) translate3d(-50%, -50%, 1px)
  65%
    transform: rotate(90deg) scale(1) translate3d(-50%, -50%, 1px)
  100%
    transform: rotate(180deg) scale(0) translate3d(-50%, -50%, 1px)

@keyframes columns
  0%
    transform: translate3d(101%, 0, 1px)
  45%
    transform: translate3d(0%, 0, 1px)
  55%
    transform: translate3d(0%, 0, 1px)
  100%
    transform: translate3d(-101%, 0, 1px)

figure 
  z-index: 5
  margin: 0
  position: absolute
  left: 0
  top: 0
  width: 100%
  height: 100%
  letter-spacing: 0.5px

  figcaption
    transition: 1s ease
    opacity: 0
    visibility: hidden
    transform: translate3d(0, 25%, 1px)
    transition-property: opacity, visibility, transform

    &:nth-child(2)
      transition-delay: .15s

  div 
    position: absolute
    width: 100%
    height: 100%
    top: 0
    left: 0
    background-size: cover
    border: 2px solid black
    box-sizing: border-box

  div,
  figcaption
    visibility: hidden
    opacity: 0 

  &.active
    div, 
    figcaption
      opacity: 1
      visibility: visible
      transform: translate3d(0, 0, 1px)

  &.out
    figcaption
      opacity: 0
      visibility: hidden
      transform: translate3d(0, 25%, 1px)

      &:nth-child(2)
        transition-delay: 0s

figcaption
  position: absolute
  top: 100%
  width: 30%
  left: 0
  padding: 2vh 0

  h5
    margin: 0
    font-size: 1.6rem

  p
    margin: 0
    font-size: 1.3rem

  &:nth-child(2)
    left: 30%

.arrows 
  position: absolute
  top: 100%
  right: 0
  padding: 2vh 0
  opacity: 0
  transform: translate3d(0, 25%, 1px)
  transition: 1s ease
  transition-property: opacity, transform

  svg
    width: 32px
    margin-left: .35em
    cursor: pointer

    &:hover
      color: lighten(black, 10%)